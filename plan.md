| Критерий | CoinMarketCap (CMC) | CoinGecko (CG) |
|----------|---------------------|----------------|
| **Бизнес-модель** | Принадлежит гиганту **Binance**. Это накладывает отпечаток на данные и приоритеты. | Независимая компания. Часто воспринимается как более нейтральный источник. |
| **Основная метрика** | **Рыночная капитализация** (используется циркулирующее предложение). | **Более комплексный подход**. Вводит свой **Gecko Score**, который учитывает ликвидность, развитие сообщества, активность разработчиков. |
| **Качество и источник данных** | Агрегирует данные с крупных бирж. Может быть подвержен манипуляциям через отчеты с одной биржи с низкой ликвидностью. | Также агрегирует данные, но активно борется с "мусорными" объемами, исключая некоторые децентрализованные биржи (DEX) и биржи с сомнительной репутацией. |
| **Бесплатный тариф** | **Очень ограниченный**. 10,000 вызовов в месяц на базовом тарифе "Basic". Ключевые эндпоинты (например, исторические данные) требуют платных подписок. | **Щедрый**. Большинство необходимых данных, включая исторические, доступны бесплатно. Лимит ~50 вызовов в минуту. |
| **Удобство API** | Структура API более "корпоративная", требует обязательного использования заголовка `X-CMC_PRO_API_KEY`. Документация обширная, но местами сложная для новичка. | Структура API более простая и "прямолинейная". Документация интуитивно понятна. |
| **Рекомендация для задачи** | ❌ Не подходит для бесплатного использования (требует платного тарифа для доступа к ключевым эндпоинтам) | ✅ **Идеальный выбор** - бесплатный тариф покрывает все потребности задачи |
| **Работа на Python** | Сложнее из-за необходимости API-ключа и ограничений тарифа. Библиотека `python-coinmarketcap`. | **Проще и удобнее**. Отличная библиотека `pycoingecko`, простая интеграция. |

Доступ к exchanges в `CoinMarketCap` только при стандартной подписке.

ИСПОЛЬЗУЕМЫЙ API `CoinGecko`. 

Использование `pycoingecko` может быть не целесообразным. Провалился в код библиотеки: она написана на requests, поэтому работать в асинхронном контексте
напрямую с ней будет не лучшей идеей. Можно написать вокруг этого асинхронные обертки, но звучит запарно.

1. Необходима регистрация и получения доступа к demo-аккаунту. Необходимо получение API-key.
2. Особенность взаимодействия с API - использования заголовка аутентификации в формате `{x-cg-demo-api-key: APIKEY}`.
3. При взаимодействии с API - использовать адрес `https://api.coingecko.com/api/v3/` для demo-версии.
4. Ограничение на __30 запросов в минуту__.

# Получение топ-100 активов по обороту (+ сортировка по дате листинга).

*Оборот (Объем торгов)* - это совокупная стоимость всех сделок (покупок и продаж) с конкретным активом, совершенных за определенный период времени.

- Для получения данных по объему торгов необходимо использовать ручку `/coins/markets`. 
    Для получения списка из 100 объектов необходимо задать следующие параметры запроса: 
    1. `order='volume_desc'`
    2. `vs_currency='usd'` 
    

- Для проверки принадлежности бирже и блокчейн-сети `/coins/{id}`, оттуда нужно вытаскивать из поля:
    1. Биржи: `tickers -> [market -> identifier]`
    2. Блокчейн-сети `platforms -> {platform_name: id}`
    3. Дата листинга: `genesis_date`
    Так как получаю дату из каждой монеты, то просто проведу сортировку по дате листинга (asc), иначе не совсем понимаю в чем идея топ 100 по дате листинга.
    
    Дополнительные query-params, чтобы не собирать лишнего: localization, community_data, developer_data - все в false
    
При работе с `/coins/{id}` втыкаемся в проблему ограниченного числа запросов. 



